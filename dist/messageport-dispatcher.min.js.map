{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///messageport-dispatcher.min.js","webpack:///webpack/bootstrap 46e664033b2178427bce","webpack:///./source/index.js","webpack:///./source/MessagePortDispatcher.js","webpack:///./node_modules/event-dispatcher/dist/event-dispatcher.js","webpack:///(webpack)/buildin/module.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","create","self","MessagePortEvent","undefined","_MessagePortDispatcher","_MessagePortDispatcher2","obj","default","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","TypeError","constructor","writable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","MessagePortDispatcher","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_eventDispatcher","_eventDispatcher2","event","dispatcherId","toJSON","result","parse","isEvent","isObject","_EventDispatcher","customPostMessageHandler","arguments","receiverEventPreprocessor","senderEventPreprocessor","noInit","_this","getPrototypeOf","initialize","_handlers","sender","receiver","Math","ceil","random","Date","now","targetOrigin","addEventListener","bind","hasEventListener","removeEventListener","removeAllEventListeners","_messageEventListener","eventType","data","transferList","getEvent","eventJson","_postMessageHandler","handler","postMessage","nativeEvent","message","dispatchEvent","JSON","stringify","error","getTarget","dispatcher","parent","top","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","Symbol","iterator","apply","Event","_EventDispatcher2","_typeof","hasOwnProp","type","defaultPrevented","ListenersRunner","listeners","onStopped","onComplete","index","immediatelyStopped","stopImmediatePropagation","listener","augmentEvent","clearEvent","eventObject","stopPropagation","EventListeners","_this2","_listeners","_runners","removeRunner","runner","splice","indexOf","priorityOpt","priority","parseInt","getPrioritiesByKey","String","handlers","createList","push","priorities","_this3","list","getOwnPropertyNames","handlerIndex","forEach","listenerRemoved","stopped","sort","a","b","_runner","createRunner","run","EventDispatcher","eventPreprocessor","_eventPreprocessor","add","has","remove","removeAll","eventOrType","optionalData","webpackPolyfill","deprecate","paths","children"],"mappings":"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","file":"messageport-dispatcher.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MessagePortDispatcher\"] = factory();\n\telse\n\t\troot[\"MessagePortDispatcher\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MessagePortDispatcher\"] = factory();\n\telse\n\t\troot[\"MessagePortDispatcher\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = exports.self = exports.MessagePortEvent = undefined;\n\nvar _MessagePortDispatcher = __webpack_require__(1);\n\nvar _MessagePortDispatcher2 = _interopRequireDefault(_MessagePortDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar self = _MessagePortDispatcher2.default.self,\n    create = _MessagePortDispatcher2.default.create;\nexports.default = _MessagePortDispatcher2.default;\nexports.MessagePortEvent = _MessagePortDispatcher.MessagePortEvent;\nexports.self = self;\nexports.create = create;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessagePortDispatcher = exports.MessagePortEvent = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Oleg Galaburda on 09.02.16.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _eventDispatcher = __webpack_require__(2);\n\nvar _eventDispatcher2 = _interopRequireDefault(_eventDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MessagePortEvent = exports.MessagePortEvent = function () {\n  function MessagePortEvent(event, dispatcherId) {\n    _classCallCheck(this, MessagePortEvent);\n\n    this.event = event;\n    this.dispatcherId = dispatcherId;\n  }\n\n  _createClass(MessagePortEvent, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        /* eslint no-use-before-define:0 */\n        event: MessagePortDispatcher.toJSON(this.event),\n        dispatcherId: this.dispatcherId\n      };\n    }\n  }], [{\n    key: 'parse',\n    value: function parse(object) {\n      /* eslint no-use-before-define:0 */\n      var result = MessagePortDispatcher.parse(object);\n      if (MessagePortEvent.isEvent(result)) {\n        /* eslint no-use-before-define:0 */\n        result.event = MessagePortDispatcher.parse(result.event);\n      } else {\n        result = null;\n      }\n      return result;\n    }\n  }, {\n    key: 'isEvent',\n    value: function isEvent(object) {\n      return _eventDispatcher2.default.isObject(object) && Object.prototype.hasOwnProperty.call(object, 'dispatcherId') && Object.prototype.hasOwnProperty.call(object, 'event');\n    }\n  }]);\n\n  return MessagePortEvent;\n}();\n\nvar MessagePortDispatcher = exports.MessagePortDispatcher = function (_EventDispatcher) {\n  _inherits(MessagePortDispatcher, _EventDispatcher);\n\n  /**\r\n   *\r\n   * @param target {Window|Worker|MessagePort}\r\n   * @param customPostMessageHandler {?Function} Function that receive message object\r\n   *        and pass it to MessagePort.postMessage()\r\n   * @param receiverEventPreprocessor {?Function} Function that pre-process\r\n   *        all events received from MessagePort, before passing to listeners\r\n   * @param senderEventPreprocessor Function that pre-process all events sent\r\n   *        to MessagePort\r\n   * @constructor\r\n   */\n  function MessagePortDispatcher(target) {\n    var customPostMessageHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var receiverEventPreprocessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var senderEventPreprocessor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var noInit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    _classCallCheck(this, MessagePortDispatcher);\n\n    var _this = _possibleConstructorReturn(this, (MessagePortDispatcher.__proto__ || Object.getPrototypeOf(MessagePortDispatcher)).call(this, null, true));\n\n    if (!noInit) {\n      _this.initialize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\n    }\n    return _this;\n  }\n\n  /**\r\n   * @private\r\n   */\n\n\n  _createClass(MessagePortDispatcher, [{\n    key: 'initialize',\n    value: function initialize(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\n      this.target = target || self;\n      this._handlers = {\n        customPostMessageHandler: customPostMessageHandler,\n        senderEventPreprocessor: senderEventPreprocessor\n      };\n      this.sender = _eventDispatcher2.default.create();\n      this.receiver = _eventDispatcher2.default.create(receiverEventPreprocessor);\n      this.dispatcherId = 'MP/' + Math.ceil(Math.random() * 10000) + '/' + Date.now();\n      this.targetOrigin = '*';\n      this.addEventListener = this.receiver.addEventListener.bind(this.receiver);\n      this.hasEventListener = this.receiver.hasEventListener.bind(this.receiver);\n      this.removeEventListener = this.receiver.removeEventListener.bind(this.receiver);\n      this.removeAllEventListeners = this.receiver.removeAllEventListeners.bind(this.receiver);\n\n      target.addEventListener('message', this._messageEventListener.bind(this));\n    }\n  }, {\n    key: 'dispatchEvent',\n    value: function dispatchEvent(eventType, data, transferList) {\n      var event = _eventDispatcher2.default.getEvent(eventType, data);\n      if (this._handlers.senderEventPreprocessor) {\n        event = this._handlers.senderEventPreprocessor.call(this, event);\n      }\n      var eventJson = MessagePortDispatcher.toJSON(new MessagePortEvent(event, this.dispatcherId));\n      this._postMessageHandler(eventJson, transferList);\n    }\n  }, {\n    key: '_postMessageHandler',\n    value: function _postMessageHandler(data, transferList) {\n      var handler = this._handlers.customPostMessageHandler;\n      if (handler) {\n        handler.call(this, data, this.targetOrigin, transferList);\n      } else {\n        this.target.postMessage(data, this.targetOrigin, transferList);\n      }\n    }\n  }, {\n    key: '_messageEventListener',\n    value: function _messageEventListener(event) {\n      // fixme .nativeEvent react-native thing, need a way to find out keep it or exclude\n      event = event.nativeEvent || event;\n      var message = MessagePortEvent.parse(event.data);\n      if (message) {\n        if (message.dispatcherId === this.dispatcherId) {\n          this.sender.dispatchEvent(message.event);\n        } else {\n          this.receiver.dispatchEvent(message.event);\n        }\n      }\n    }\n\n    /**\r\n     * If toJSON method implemented on object, it will be called instead of converting to JSON string.\r\n     * This was made to utilize structured cloning algorithm for raw objects.\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\r\n     * In this case developer is responsible for converting linked objects.\r\n     * @param object\r\n     * @returns {Object|String}\r\n     */\n\n  }], [{\n    key: 'toJSON',\n    value: function toJSON(object) {\n      var objectJson = void 0;\n      if (typeof object.toJSON === 'function') {\n        objectJson = object.toJSON();\n      } else {\n        objectJson = JSON.stringify(object);\n      }\n      return objectJson;\n    }\n\n    /**\r\n     *\r\n     * @param data {Object|String}\r\n     * @returns {Object}\r\n     */\n\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      var object = void 0; // keep it undefined in case of error\n      if (_eventDispatcher2.default.isObject(data)) {\n        object = data;\n      } else {\n        try {\n          object = JSON.parse(data);\n        } catch (error) {\n          // this isn't an event we are waiting for.\n        }\n      }\n      return object;\n    }\n  }, {\n    key: 'create',\n    value: function create(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor) {\n      return new MessagePortDispatcher(target, customPostMessageHandler, receiverEventPreprocessor, senderEventPreprocessor);\n    }\n  }]);\n\n  return MessagePortDispatcher;\n}(_eventDispatcher2.default);\n\nvar factory = function factory(getTarget) {\n  var dispatcher = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return function () {\n    if (!dispatcher) {\n      dispatcher = MessagePortDispatcher.create(getTarget());\n    }\n    return dispatcher;\n  };\n};\n\nMessagePortDispatcher.self = factory(function () {\n  return self;\n});\nMessagePortDispatcher.parent = factory(function () {\n  return parent;\n});\nMessagePortDispatcher.top = factory(function () {\n  return top;\n});\nMessagePortDispatcher.MessagePortEvent = MessagePortEvent;\n\nexports.default = MessagePortDispatcher;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? 'undefined' : _typeof2(exports)) === 'object' && ( false ? 'undefined' : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof2(exports)) === 'object') exports[\"EventDispatcher\"] = factory();else root[\"EventDispatcher\"] = factory();\n})(undefined, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            /******/configurable: false,\n            /******/enumerable: true,\n            /******/get: getter\n            /******/ });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"http://localhost:8081/dist/\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 0);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = undefined;\n\n      var _EventDispatcher = __webpack_require__(1);\n\n      var _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.default = _EventDispatcher2.default;\n      exports.Event = _EventDispatcher.Event;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var hasOwnProp = function hasOwnProp(target, name) {\n        return Object.prototype.hasOwnProperty.call(target, name);\n      }; /**\r\n          * Created by Oleg Galaburda on 09.02.16.\r\n          * \r\n          */\n\n      var Event = exports.Event = function () {\n        function Event(type, data) {\n          _classCallCheck(this, Event);\n\n          this.type = type;\n          this.data = data || null;\n          this.defaultPrevented = false;\n        }\n\n        _createClass(Event, [{\n          key: 'toJSON',\n          value: function toJSON() {\n            return { type: this.type, data: this.data };\n          }\n        }, {\n          key: 'isDefaultPrevented',\n          value: function isDefaultPrevented() {\n            return this.defaultPrevented;\n          }\n        }, {\n          key: 'preventDefault',\n          value: function preventDefault() {\n            this.defaultPrevented = true;\n          }\n        }]);\n\n        return Event;\n      }();\n\n      var ListenersRunner = function () {\n        function ListenersRunner(listeners, onStopped, onComplete) {\n          var _this = this;\n\n          _classCallCheck(this, ListenersRunner);\n\n          this.index = -1;\n          this.immediatelyStopped = false;\n\n          this.stopImmediatePropagation = function () {\n            _this.immediatelyStopped = true;\n          };\n\n          this.listeners = listeners;\n          this.onStopped = onStopped;\n          this.onComplete = onComplete;\n        }\n\n        _createClass(ListenersRunner, [{\n          key: 'run',\n          value: function run(event, target) {\n            var listener = void 0;\n            var listeners = this.listeners;\n\n            this.augmentEvent(event);\n            // TODO this has to be handled in separate object ListenersRunner that should be\n            // created for each call() call and asked for index validation on each listener remove.\n            for (this.index = 0; this.index < listeners.length; this.index++) {\n              if (this.immediatelyStopped) break;\n              listener = listeners[this.index];\n              listener.call(target, event);\n            }\n            this.clearEvent(event);\n            this.onComplete(this);\n          }\n        }, {\n          key: 'augmentEvent',\n          value: function augmentEvent(eventObject) {\n            var event = eventObject;\n            event.stopPropagation = this.onStopped;\n            event.stopImmediatePropagation = this.stopImmediatePropagation;\n          }\n\n          /* eslint class-methods-use-this: \"off\" */\n\n        }, {\n          key: 'clearEvent',\n          value: function clearEvent(eventObject) {\n            var event = eventObject;\n            delete event.stopPropagation;\n            delete event.stopImmediatePropagation;\n          }\n        }, {\n          key: 'listenerRemoved',\n          value: function listenerRemoved(listeners, index) {\n            if (listeners === this.listeners && index <= this.index) {\n              this.index--;\n            }\n          }\n        }]);\n\n        return ListenersRunner;\n      }();\n\n      var EventListeners = function () {\n        function EventListeners() {\n          var _this2 = this;\n\n          _classCallCheck(this, EventListeners);\n\n          this._listeners = {};\n          this._runners = [];\n\n          this.removeRunner = function (runner) {\n            _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n          };\n        }\n        /**\r\n         * key - event Type\r\n         * value - hash of priorities\r\n         *    key - priority\r\n         *    value - list of handlers\r\n         * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n         * @private\r\n         */\n\n        _createClass(EventListeners, [{\n          key: 'createList',\n          value: function createList(eventType, priorityOpt) {\n            var priority = parseInt(priorityOpt, 10);\n            var target = this.getPrioritiesByKey(eventType);\n            var key = String(priority);\n            var value = void 0;\n            if (hasOwnProp(target, key)) {\n              value = target[key];\n            } else {\n              value = [];\n              target[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'getPrioritiesByKey',\n          value: function getPrioritiesByKey(key) {\n            var value = void 0;\n            if (hasOwnProp(this._listeners, key)) {\n              value = this._listeners[key];\n            } else {\n              value = {};\n              this._listeners[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'add',\n          value: function add(eventType, handler, priority) {\n            var handlers = this.createList(eventType, priority);\n            if (handlers.indexOf(handler) < 0) {\n              handlers.push(handler);\n            }\n          }\n        }, {\n          key: 'has',\n          value: function has(eventType) {\n            var priority = void 0;\n            var result = false;\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              for (priority in priorities) {\n                if (hasOwnProp(priorities, priority)) {\n                  result = true;\n                  break;\n                }\n              }\n            }\n            return result;\n          }\n        }, {\n          key: 'remove',\n          value: function remove(eventType, handler) {\n            var _this3 = this;\n\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              var list = Object.getOwnPropertyNames(priorities);\n              var length = list.length;\n\n              var _loop = function _loop(index) {\n                var priority = list[index];\n                var handlers = priorities[priority];\n                var handlerIndex = handlers.indexOf(handler);\n                if (handlerIndex >= 0) {\n                  handlers.splice(handlerIndex, 1);\n                  if (!handlers.length) {\n                    delete priorities[priority];\n                  }\n                  _this3._runners.forEach(function (runner) {\n                    runner.listenerRemoved(handlers, handlerIndex);\n                  });\n                }\n              };\n\n              for (var index = 0; index < length; index++) {\n                _loop(index);\n              }\n            }\n          }\n        }, {\n          key: 'removeAll',\n          value: function removeAll(eventType) {\n            delete this._listeners[eventType];\n          }\n        }, {\n          key: 'createRunner',\n          value: function createRunner(handlers, onStopped) {\n            var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n            this._runners.push(runner);\n            return runner;\n          }\n        }, {\n          key: 'call',\n          value: function call(event, target) {\n            var priorities = this.getPrioritiesByKey(event.type);\n            var stopped = false;\n            var stopPropagation = function stopPropagation() {\n              stopped = true;\n            };\n            if (priorities) {\n              // getOwnPropertyNames() or keys()?\n              var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n                return a - b;\n              });\n              var length = list.length;\n\n              for (var index = 0; index < length; index++) {\n                if (stopped) break;\n                var _handlers = priorities[list[index]];\n                // in case if all handlers of priority were removed while event\n                // was dispatched and handlers become undefined.\n                if (_handlers) {\n                  var _runner = this.createRunner(_handlers, stopPropagation);\n                  _runner.run(event, target);\n                  if (_runner.immediatelyStopped) break;\n                }\n              }\n            }\n          }\n        }]);\n\n        return EventListeners;\n      }();\n\n      var EventDispatcher = function () {\n        function EventDispatcher(eventPreprocessor) {\n          var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n          _classCallCheck(this, EventDispatcher);\n\n          if (!noInit) {\n            this.initialize(eventPreprocessor);\n          }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n        _createClass(EventDispatcher, [{\n          key: 'initialize',\n          value: function initialize(eventPreprocessor) {\n            this._eventPreprocessor = eventPreprocessor;\n            this._listeners = new EventListeners();\n          }\n        }, {\n          key: 'addEventListener',\n          value: function addEventListener(eventType, listener) {\n            var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            this._listeners.add(eventType, listener, -priority || 0);\n          }\n        }, {\n          key: 'hasEventListener',\n          value: function hasEventListener(eventType) {\n            return this._listeners.has(eventType);\n          }\n        }, {\n          key: 'removeEventListener',\n          value: function removeEventListener(eventType, listener) {\n            this._listeners.remove(eventType, listener);\n          }\n        }, {\n          key: 'removeAllEventListeners',\n          value: function removeAllEventListeners(eventType) {\n            this._listeners.removeAll(eventType);\n          }\n        }, {\n          key: 'dispatchEvent',\n          value: function dispatchEvent(event, data) {\n            var eventObject = EventDispatcher.getEvent(event, data);\n            if (this._eventPreprocessor) {\n              eventObject = this._eventPreprocessor.call(this, eventObject);\n            }\n            this._listeners.call(eventObject);\n          }\n        }], [{\n          key: 'isObject',\n          value: function isObject(value) {\n            return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n          }\n        }, {\n          key: 'getEvent',\n          value: function getEvent(eventOrType, optionalData) {\n            var event = eventOrType;\n            if (!EventDispatcher.isObject(eventOrType)) {\n              event = new EventDispatcher.Event(String(eventOrType), optionalData);\n            }\n            return event;\n          }\n        }, {\n          key: 'create',\n          value: function create(eventPreprocessor) {\n            return new EventDispatcher(eventPreprocessor);\n          }\n\n          /* eslint no-undef: \"off\" */\n\n        }]);\n\n        return EventDispatcher;\n      }();\n\n      EventDispatcher.Event = Event;\n\n      exports.default = EventDispatcher;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=event-dispatcher.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function () {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// messageport-dispatcher.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 46e664033b2178427bce","import MessagePortDispatcher, { MessagePortEvent } from './MessagePortDispatcher';\r\n\r\nconst { self, create } = MessagePortDispatcher;\r\n\r\nexport default MessagePortDispatcher;\r\nexport { MessagePortEvent, self, create };\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","/**\r\n * Created by Oleg Galaburda on 09.02.16.\r\n * @flow\r\n */\r\n\r\nimport EventDispatcher from 'event-dispatcher';\r\n\r\nimport type {\r\n  EventObject,\r\n  EventListener,\r\n  EventProcessor,\r\n  PostMessage,\r\n  IMessagePortEvent,\r\n  MessagePortTarget,\r\n} from './TypeDefinition';\r\n\r\nexport class MessagePortEvent implements IMessagePortEvent {\r\n  constructor(event: EventObject, dispatcherId: string) {\r\n    this.event = event;\r\n    this.dispatcherId = dispatcherId;\r\n  }\r\n\r\n  toJSON(): IMessagePortEvent {\r\n    return {\r\n      /* eslint no-use-before-define:0 */\r\n      event: MessagePortDispatcher.toJSON(this.event),\r\n      dispatcherId: this.dispatcherId,\r\n    };\r\n  }\r\n\r\n  static parse(object: mixed): string {\r\n    /* eslint no-use-before-define:0 */\r\n    let result = MessagePortDispatcher.parse(object);\r\n    if (MessagePortEvent.isEvent(result)) {\r\n      /* eslint no-use-before-define:0 */\r\n      result.event = MessagePortDispatcher.parse(result.event);\r\n    } else {\r\n      result = null;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static isEvent(object) {\r\n    return EventDispatcher.isObject(object) &&\r\n      Object.prototype.hasOwnProperty.call(object, 'dispatcherId') &&\r\n      Object.prototype.hasOwnProperty.call(object, 'event');\r\n  }\r\n}\r\n\r\ntype StaticGlobalDispatcher = ()=> MessagePortDispatcher;\r\ntype MPDispatcherInternals = {\r\n  customPostMessageHandler?: PostMessage,\r\n  senderEventPreprocessor?: EventProcessor\r\n};\r\n\r\nexport class MessagePortDispatcher extends EventDispatcher {\r\n  _handlers: MPDispatcherInternals;\r\n  sender: EventDispatcher;\r\n  receiver: EventDispatcher;\r\n  dispatcherId: string;\r\n  targetOrigin: string;\r\n  addEventListener: (type: string, handler: EventListener) => void;\r\n  hasEventListener: (eventType: string) => boolean;\r\n  removeEventListener: (eventType: string) => void;\r\n  removeAllEventListeners: (eventType: string) => void;\r\n\r\n  /**\r\n   *\r\n   * @param target {Window|Worker|MessagePort}\r\n   * @param customPostMessageHandler {?Function} Function that receive message object\r\n   *        and pass it to MessagePort.postMessage()\r\n   * @param receiverEventPreprocessor {?Function} Function that pre-process\r\n   *        all events received from MessagePort, before passing to listeners\r\n   * @param senderEventPreprocessor Function that pre-process all events sent\r\n   *        to MessagePort\r\n   * @constructor\r\n   */\r\n  constructor(\r\n    target: MessagePortTarget,\r\n    customPostMessageHandler?: PostMessage = null,\r\n    receiverEventPreprocessor?: EventProcessor = null,\r\n    senderEventPreprocessor: EventProcessor = null,\r\n    noInit = false,\r\n  ) {\r\n    super(null, true);\r\n    if (!noInit) {\r\n      this.initialize(\r\n        target,\r\n        customPostMessageHandler,\r\n        receiverEventPreprocessor,\r\n        senderEventPreprocessor,\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  initialize(\r\n    target,\r\n    customPostMessageHandler,\r\n    receiverEventPreprocessor,\r\n    senderEventPreprocessor,\r\n  ) {\r\n    this.target = target || self;\r\n    this._handlers = {\r\n      customPostMessageHandler,\r\n      senderEventPreprocessor,\r\n    };\r\n    this.sender = EventDispatcher.create();\r\n    this.receiver = EventDispatcher.create(receiverEventPreprocessor);\r\n    this.dispatcherId = `MP/${Math.ceil(Math.random() * 10000)}/${Date.now()}`;\r\n    this.targetOrigin = '*';\r\n    this.addEventListener = this.receiver.addEventListener.bind(this.receiver);\r\n    this.hasEventListener = this.receiver.hasEventListener.bind(this.receiver);\r\n    this.removeEventListener = this.receiver.removeEventListener.bind(this.receiver);\r\n    this.removeAllEventListeners = this.receiver.removeAllEventListeners.bind(this.receiver);\r\n\r\n    target.addEventListener('message', this._messageEventListener.bind(this));\r\n  }\r\n\r\n  dispatchEvent(eventType, data, transferList) {\r\n    let event = EventDispatcher.getEvent(eventType, data);\r\n    if (this._handlers.senderEventPreprocessor) {\r\n      event = this._handlers.senderEventPreprocessor.call(this, event);\r\n    }\r\n    const eventJson = MessagePortDispatcher.toJSON(new MessagePortEvent(event, this.dispatcherId));\r\n    this._postMessageHandler(eventJson, transferList);\r\n  }\r\n\r\n  _postMessageHandler(data, transferList) {\r\n    const handler = this._handlers.customPostMessageHandler;\r\n    if (handler) {\r\n      handler.call(this, data, this.targetOrigin, transferList);\r\n    } else {\r\n      this.target.postMessage(data, this.targetOrigin, transferList);\r\n    }\r\n  }\r\n\r\n  _messageEventListener(event) {\r\n    // fixme .nativeEvent react-native thing, need a way to find out keep it or exclude\r\n    event = event.nativeEvent || event;\r\n    const message = MessagePortEvent.parse(event.data);\r\n    if (message) {\r\n      if (message.dispatcherId === this.dispatcherId) {\r\n        this.sender.dispatchEvent(message.event);\r\n      } else {\r\n        this.receiver.dispatchEvent(message.event);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If toJSON method implemented on object, it will be called instead of converting to JSON string.\r\n   * This was made to utilize structured cloning algorithm for raw objects.\r\n   * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\r\n   * In this case developer is responsible for converting linked objects.\r\n   * @param object\r\n   * @returns {Object|String}\r\n   */\r\n  static toJSON(object) {\r\n    let objectJson;\r\n    if (typeof (object.toJSON) === 'function') {\r\n      objectJson = object.toJSON();\r\n    } else {\r\n      objectJson = JSON.stringify(object);\r\n    }\r\n    return objectJson;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param data {Object|String}\r\n   * @returns {Object}\r\n   */\r\n  static parse(data) {\r\n    let object; // keep it undefined in case of error\r\n    if (EventDispatcher.isObject(data)) {\r\n      object = data;\r\n    } else {\r\n      try {\r\n        object = JSON.parse(data);\r\n      } catch (error) {\r\n        // this isn't an event we are waiting for.\r\n      }\r\n    }\r\n    return object;\r\n  }\r\n\r\n  static create(\r\n    target,\r\n    customPostMessageHandler,\r\n    receiverEventPreprocessor,\r\n    senderEventPreprocessor,\r\n  ) {\r\n    return new MessagePortDispatcher(\r\n      target,\r\n      customPostMessageHandler,\r\n      receiverEventPreprocessor,\r\n      senderEventPreprocessor,\r\n    );\r\n  }\r\n\r\n  static self: StaticGlobalDispatcher;\r\n  static parent: StaticGlobalDispatcher;\r\n  static top: StaticGlobalDispatcher;\r\n}\r\n\r\nconst factory = (\r\n  getTarget: () => MessagePortTarget,\r\n  dispatcher: MessagePortDispatcher = null,\r\n): StaticGlobalDispatcher => (): MessagePortDispatcher => {\r\n  if (!dispatcher) {\r\n    dispatcher = MessagePortDispatcher.create(getTarget());\r\n  }\r\n  return dispatcher;\r\n};\r\n\r\nMessagePortDispatcher.self = factory(() => self);\r\nMessagePortDispatcher.parent = factory(() => parent);\r\nMessagePortDispatcher.top = factory(() => top);\r\nMessagePortDispatcher.MessagePortEvent = MessagePortEvent;\r\n\r\nexport default MessagePortDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/MessagePortDispatcher.js","(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"EventDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"EventDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Event = undefined;\r\n\r\nvar _EventDispatcher = __webpack_require__(1);\r\n\r\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nexports.default = _EventDispatcher2.default;\r\nexports.Event = _EventDispatcher.Event;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar hasOwnProp = function hasOwnProp(target, name) {\r\n  return Object.prototype.hasOwnProperty.call(target, name);\r\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\r\n\r\nvar Event = exports.Event = function () {\r\n  function Event(type, data) {\r\n    _classCallCheck(this, Event);\r\n\r\n    this.type = type;\r\n    this.data = data || null;\r\n    this.defaultPrevented = false;\r\n  }\r\n\r\n  _createClass(Event, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return { type: this.type, data: this.data };\r\n    }\r\n  }, {\r\n    key: 'isDefaultPrevented',\r\n    value: function isDefaultPrevented() {\r\n      return this.defaultPrevented;\r\n    }\r\n  }, {\r\n    key: 'preventDefault',\r\n    value: function preventDefault() {\r\n      this.defaultPrevented = true;\r\n    }\r\n  }]);\r\n\r\n  return Event;\r\n}();\r\n\r\nvar ListenersRunner = function () {\r\n  function ListenersRunner(listeners, onStopped, onComplete) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, ListenersRunner);\r\n\r\n    this.index = -1;\r\n    this.immediatelyStopped = false;\r\n\r\n    this.stopImmediatePropagation = function () {\r\n      _this.immediatelyStopped = true;\r\n    };\r\n\r\n    this.listeners = listeners;\r\n    this.onStopped = onStopped;\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  _createClass(ListenersRunner, [{\r\n    key: 'run',\r\n    value: function run(event, target) {\r\n      var listener = void 0;\r\n      var listeners = this.listeners;\r\n\r\n      this.augmentEvent(event);\r\n      // TODO this has to be handled in separate object ListenersRunner that should be\r\n      // created for each call() call and asked for index validation on each listener remove.\r\n      for (this.index = 0; this.index < listeners.length; this.index++) {\r\n        if (this.immediatelyStopped) break;\r\n        listener = listeners[this.index];\r\n        listener.call(target, event);\r\n      }\r\n      this.clearEvent(event);\r\n      this.onComplete(this);\r\n    }\r\n  }, {\r\n    key: 'augmentEvent',\r\n    value: function augmentEvent(eventObject) {\r\n      var event = eventObject;\r\n      event.stopPropagation = this.onStopped;\r\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n    }\r\n\r\n    /* eslint class-methods-use-this: \"off\" */\r\n\r\n  }, {\r\n    key: 'clearEvent',\r\n    value: function clearEvent(eventObject) {\r\n      var event = eventObject;\r\n      delete event.stopPropagation;\r\n      delete event.stopImmediatePropagation;\r\n    }\r\n  }, {\r\n    key: 'listenerRemoved',\r\n    value: function listenerRemoved(listeners, index) {\r\n      if (listeners === this.listeners && index <= this.index) {\r\n        this.index--;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ListenersRunner;\r\n}();\r\n\r\nvar EventListeners = function () {\r\n  function EventListeners() {\r\n    var _this2 = this;\r\n\r\n    _classCallCheck(this, EventListeners);\r\n\r\n    this._listeners = {};\r\n    this._runners = [];\r\n\r\n    this.removeRunner = function (runner) {\r\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n    };\r\n  }\r\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventListeners, [{\r\n    key: 'createList',\r\n    value: function createList(eventType, priorityOpt) {\r\n      var priority = parseInt(priorityOpt, 10);\r\n      var target = this.getPrioritiesByKey(eventType);\r\n      var key = String(priority);\r\n      var value = void 0;\r\n      if (hasOwnProp(target, key)) {\r\n        value = target[key];\r\n      } else {\r\n        value = [];\r\n        target[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'getPrioritiesByKey',\r\n    value: function getPrioritiesByKey(key) {\r\n      var value = void 0;\r\n      if (hasOwnProp(this._listeners, key)) {\r\n        value = this._listeners[key];\r\n      } else {\r\n        value = {};\r\n        this._listeners[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'add',\r\n    value: function add(eventType, handler, priority) {\r\n      var handlers = this.createList(eventType, priority);\r\n      if (handlers.indexOf(handler) < 0) {\r\n        handlers.push(handler);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'has',\r\n    value: function has(eventType) {\r\n      var priority = void 0;\r\n      var result = false;\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        for (priority in priorities) {\r\n          if (hasOwnProp(priorities, priority)) {\r\n            result = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove(eventType, handler) {\r\n      var _this3 = this;\r\n\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        var list = Object.getOwnPropertyNames(priorities);\r\n        var length = list.length;\r\n\r\n        var _loop = function _loop(index) {\r\n          var priority = list[index];\r\n          var handlers = priorities[priority];\r\n          var handlerIndex = handlers.indexOf(handler);\r\n          if (handlerIndex >= 0) {\r\n            handlers.splice(handlerIndex, 1);\r\n            if (!handlers.length) {\r\n              delete priorities[priority];\r\n            }\r\n            _this3._runners.forEach(function (runner) {\r\n              runner.listenerRemoved(handlers, handlerIndex);\r\n            });\r\n          }\r\n        };\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          _loop(index);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'removeAll',\r\n    value: function removeAll(eventType) {\r\n      delete this._listeners[eventType];\r\n    }\r\n  }, {\r\n    key: 'createRunner',\r\n    value: function createRunner(handlers, onStopped) {\r\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n      this._runners.push(runner);\r\n      return runner;\r\n    }\r\n  }, {\r\n    key: 'call',\r\n    value: function call(event, target) {\r\n      var priorities = this.getPrioritiesByKey(event.type);\r\n      var stopped = false;\r\n      var stopPropagation = function stopPropagation() {\r\n        stopped = true;\r\n      };\r\n      if (priorities) {\r\n        // getOwnPropertyNames() or keys()?\r\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n          return a - b;\r\n        });\r\n        var length = list.length;\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          if (stopped) break;\r\n          var _handlers = priorities[list[index]];\r\n          // in case if all handlers of priority were removed while event\r\n          // was dispatched and handlers become undefined.\r\n          if (_handlers) {\r\n            var _runner = this.createRunner(_handlers, stopPropagation);\r\n            _runner.run(event, target);\r\n            if (_runner.immediatelyStopped) break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return EventListeners;\r\n}();\r\n\r\nvar EventDispatcher = function () {\r\n  function EventDispatcher(eventPreprocessor) {\r\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n    _classCallCheck(this, EventDispatcher);\r\n\r\n    if (!noInit) {\r\n      this.initialize(eventPreprocessor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventDispatcher, [{\r\n    key: 'initialize',\r\n    value: function initialize(eventPreprocessor) {\r\n      this._eventPreprocessor = eventPreprocessor;\r\n      this._listeners = new EventListeners();\r\n    }\r\n  }, {\r\n    key: 'addEventListener',\r\n    value: function addEventListener(eventType, listener) {\r\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n      this._listeners.add(eventType, listener, -priority || 0);\r\n    }\r\n  }, {\r\n    key: 'hasEventListener',\r\n    value: function hasEventListener(eventType) {\r\n      return this._listeners.has(eventType);\r\n    }\r\n  }, {\r\n    key: 'removeEventListener',\r\n    value: function removeEventListener(eventType, listener) {\r\n      this._listeners.remove(eventType, listener);\r\n    }\r\n  }, {\r\n    key: 'removeAllEventListeners',\r\n    value: function removeAllEventListeners(eventType) {\r\n      this._listeners.removeAll(eventType);\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(event, data) {\r\n      var eventObject = EventDispatcher.getEvent(event, data);\r\n      if (this._eventPreprocessor) {\r\n        eventObject = this._eventPreprocessor.call(this, eventObject);\r\n      }\r\n      this._listeners.call(eventObject);\r\n    }\r\n  }], [{\r\n    key: 'isObject',\r\n    value: function isObject(value) {\r\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n    }\r\n  }, {\r\n    key: 'getEvent',\r\n    value: function getEvent(eventOrType, optionalData) {\r\n      var event = eventOrType;\r\n      if (!EventDispatcher.isObject(eventOrType)) {\r\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n      }\r\n      return event;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(eventPreprocessor) {\r\n      return new EventDispatcher(eventPreprocessor);\r\n    }\r\n\r\n    /* eslint no-undef: \"off\" */\r\n\r\n  }]);\r\n\r\n  return EventDispatcher;\r\n}();\r\n\r\nEventDispatcher.Event = Event;\r\n\r\nexports.default = EventDispatcher;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/event-dispatcher/dist/event-dispatcher.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js"],"sourceRoot":""}