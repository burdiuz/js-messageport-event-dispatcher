{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5f57f953629669079568","webpack:///./source/index.js","webpack:///./source/MessagePortDispatcher.js","webpack:///./node_modules/event-dispatcher/dist/event-dispatcher.js","webpack:///(webpack)/buildin/module.js"],"names":["self","create","MessagePortEvent","event","dispatcherId","MessagePortDispatcher","toJSON","object","result","parse","isEvent","isObject","Object","prototype","hasOwnProperty","call","target","customPostMessageHandler","receiverEventPreprocessor","senderEventPreprocessor","noInit","initiallize","_handlers","sender","receiver","Math","ceil","random","Date","now","targetOrigin","addEventListener","bind","hasEventListener","removeEventListener","removeAllEventListeners","_messageEventListener","eventType","data","transferList","getEvent","eventJson","_postMessageHandler","handler","postMessage","nativeEvent","message","dispatchEvent","objectJson","JSON","stringify","error","factory","getTarget","dispatcher","parent","top","webpackUniversalModuleDefinition","root","exports","module","modules","installedModules","__webpack_require__","moduleId","i","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","property","p","s","value","Event","undefined","_EventDispatcher","_EventDispatcher2","_interopRequireDefault","obj","default","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","props","length","descriptor","writable","key","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","hasOwnProp","type","defaultPrevented","isDefaultPrevented","preventDefault","ListenersRunner","listeners","onStopped","onComplete","_this","index","immediatelyStopped","stopImmediatePropagation","run","listener","augmentEvent","clearEvent","eventObject","stopPropagation","listenerRemoved","EventListeners","_this2","_listeners","_runners","removeRunner","runner","splice","indexOf","createList","priorityOpt","priority","parseInt","getPrioritiesByKey","String","add","handlers","push","has","priorities","remove","_this3","list","getOwnPropertyNames","_loop","handlerIndex","forEach","removeAll","createRunner","stopped","sort","a","b","_runner","EventDispatcher","eventPreprocessor","arguments","initialize","_eventPreprocessor","eventOrType","optionalData","webpackPolyfill","deprecate","paths","children"],"mappings":"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","file":"messageport-dispatcher.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MessagePortDispatcher\"] = factory();\n\telse\n\t\troot[\"MessagePortDispatcher\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5f57f953629669079568","import MessagePortDispatcher, { MessagePortEvent } from './MessagePortDispatcher';\r\n\r\nconst { self, create } = MessagePortDispatcher;\r\n\r\nexport default MessagePortDispatcher;\r\nexport { MessagePortEvent, self, create };\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","/**\r\n * Created by Oleg Galaburda on 09.02.16.\r\n * @flow\r\n */\r\n\r\nimport EventDispatcher from 'event-dispatcher';\r\n\r\nimport type {\r\n  EventObject,\r\n  EventListener,\r\n  EventProcessor,\r\n  PostMessage,\r\n  IMessagePortEvent,\r\n  MessagePortTarget,\r\n} from './TypeDefinition';\r\n\r\nexport class MessagePortEvent implements IMessagePortEvent {\r\n  constructor(event: EventObject, dispatcherId: string) {\r\n    this.event = event;\r\n    this.dispatcherId = dispatcherId;\r\n  }\r\n\r\n  toJSON(): IMessagePortEvent {\r\n    return {\r\n      /* eslint no-use-before-define:0 */\r\n      event: MessagePortDispatcher.toJSON(this.event),\r\n      dispatcherId: this.dispatcherId,\r\n    };\r\n  }\r\n\r\n  static parse(object: mixed): string {\r\n    /* eslint no-use-before-define:0 */\r\n    let result = MessagePortDispatcher.parse(object);\r\n    if (MessagePortEvent.isEvent(result)) {\r\n      /* eslint no-use-before-define:0 */\r\n      result.event = MessagePortDispatcher.parse(result.event);\r\n    } else {\r\n      result = null;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static isEvent(object) {\r\n    return EventDispatcher.isObject(object) &&\r\n      Object.prototype.hasOwnProperty.call(object, 'dispatcherId') &&\r\n      Object.prototype.hasOwnProperty.call(object, 'event');\r\n  }\r\n}\r\n\r\ntype StaticGlobalDispatcher = ()=> MessagePortDispatcher;\r\ntype MPDispatcherInternals = {\r\n  customPostMessageHandler?: PostMessage,\r\n  senderEventPreprocessor?: EventProcessor\r\n};\r\n\r\nexport class MessagePortDispatcher extends EventDispatcher {\r\n  _handlers: MPDispatcherInternals;\r\n  sender: EventDispatcher;\r\n  receiver: EventDispatcher;\r\n  dispatcherId: string;\r\n  targetOrigin: string;\r\n  addEventListener: (type: string, handler: EventListener) => void;\r\n  hasEventListener: (eventType: string) => boolean;\r\n  removeEventListener: (eventType: string) => void;\r\n  removeAllEventListeners: (eventType: string) => void;\r\n\r\n  /**\r\n   *\r\n   * @param target {Window|Worker|MessagePort}\r\n   * @param customPostMessageHandler {?Function} Function that receive message object\r\n   *        and pass it to MessagePort.postMessage()\r\n   * @param receiverEventPreprocessor {?Function} Function that pre-process\r\n   *        all events received from MessagePort, before passing to listeners\r\n   * @param senderEventPreprocessor Function that pre-process all events sent\r\n   *        to MessagePort\r\n   * @constructor\r\n   */\r\n  constructor(\r\n    target: MessagePortTarget,\r\n    customPostMessageHandler?: PostMessage = null,\r\n    receiverEventPreprocessor?: EventProcessor = null,\r\n    senderEventPreprocessor: EventProcessor = null,\r\n    noInit = false,\r\n  ) {\r\n    super(null, true);\r\n    if (!noInit) {\r\n      this.initiallize(\r\n        target,\r\n        customPostMessageHandler,\r\n        receiverEventPreprocessor,\r\n        senderEventPreprocessor,\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  initiallize(\r\n    target,\r\n    customPostMessageHandler,\r\n    receiverEventPreprocessor,\r\n    senderEventPreprocessor,\r\n  ) {\r\n    this.target = target || self;\r\n    this._handlers = {\r\n      customPostMessageHandler,\r\n      senderEventPreprocessor,\r\n    };\r\n    this.sender = EventDispatcher.create();\r\n    this.receiver = EventDispatcher.create(receiverEventPreprocessor);\r\n    this.dispatcherId = `MP/${Math.ceil(Math.random() * 10000)}/${Date.now()}`;\r\n    this.targetOrigin = '*';\r\n    this.addEventListener = this.receiver.addEventListener.bind(this.receiver);\r\n    this.hasEventListener = this.receiver.hasEventListener.bind(this.receiver);\r\n    this.removeEventListener = this.receiver.removeEventListener.bind(this.receiver);\r\n    this.removeAllEventListeners = this.receiver.removeAllEventListeners.bind(this.receiver);\r\n\r\n    target.addEventListener('message', this._messageEventListener.bind(this));\r\n  }\r\n\r\n  dispatchEvent(eventType, data, transferList) {\r\n    let event = EventDispatcher.getEvent(eventType, data);\r\n    if (this._handlers.senderEventPreprocessor) {\r\n      event = this._handlers.senderEventPreprocessor.call(this, event);\r\n    }\r\n    const eventJson = MessagePortDispatcher.toJSON(new MessagePortEvent(event, this.dispatcherId));\r\n    this._postMessageHandler(eventJson, transferList);\r\n  }\r\n\r\n  _postMessageHandler(data, transferList) {\r\n    const handler = this._handlers.customPostMessageHandler;\r\n    if (handler) {\r\n      handler.call(this, data, this.targetOrigin, transferList);\r\n    } else {\r\n      this.target.postMessage(data, this.targetOrigin, transferList);\r\n    }\r\n  }\r\n\r\n  _messageEventListener(event) {\r\n    // fixme .nativeEvent react-native thing, need a way to find out keep it or exclude\r\n    event = event.nativeEvent || event;\r\n    const message = MessagePortEvent.parse(event.data);\r\n    if (message) {\r\n      if (message.dispatcherId === this.dispatcherId) {\r\n        this.sender.dispatchEvent(message.event);\r\n      } else {\r\n        this.receiver.dispatchEvent(message.event);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If toJSON method implemented on object, it will be called instead of converting to JSON string.\r\n   * This was made to utilize structured cloning algorithm for raw objects.\r\n   * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\r\n   * In this case developer is responsible for converting linked objects.\r\n   * @param object\r\n   * @returns {Object|String}\r\n   */\r\n  static toJSON(object) {\r\n    let objectJson;\r\n    if (typeof (object.toJSON) === 'function') {\r\n      objectJson = object.toJSON();\r\n    } else {\r\n      objectJson = JSON.stringify(object);\r\n    }\r\n    return objectJson;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param data {Object|String}\r\n   * @returns {Object}\r\n   */\r\n  static parse(data) {\r\n    let object; // keep it undefined in case of error\r\n    if (EventDispatcher.isObject(data)) {\r\n      object = data;\r\n    } else {\r\n      try {\r\n        object = JSON.parse(data);\r\n      } catch (error) {\r\n        // this isn't an event we are waiting for.\r\n      }\r\n    }\r\n    return object;\r\n  }\r\n\r\n  static create(\r\n    target,\r\n    customPostMessageHandler,\r\n    receiverEventPreprocessor,\r\n    senderEventPreprocessor,\r\n  ) {\r\n    return new MessagePortDispatcher(\r\n      target,\r\n      customPostMessageHandler,\r\n      receiverEventPreprocessor,\r\n      senderEventPreprocessor,\r\n    );\r\n  }\r\n\r\n  static self: StaticGlobalDispatcher;\r\n  static parent: StaticGlobalDispatcher;\r\n  static top: StaticGlobalDispatcher;\r\n}\r\n\r\nconst factory = (\r\n  getTarget: () => MessagePortTarget,\r\n  dispatcher: MessagePortDispatcher = null,\r\n): StaticGlobalDispatcher => (): MessagePortDispatcher => {\r\n  if (!dispatcher) {\r\n    dispatcher = MessagePortDispatcher.create(getTarget());\r\n  }\r\n  return dispatcher;\r\n};\r\n\r\nMessagePortDispatcher.self = factory(() => self);\r\nMessagePortDispatcher.parent = factory(() => parent);\r\nMessagePortDispatcher.top = factory(() => top);\r\nMessagePortDispatcher.MessagePortEvent = MessagePortEvent;\r\n\r\nexport default MessagePortDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/MessagePortDispatcher.js","(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"EventDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"EventDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Event = undefined;\r\n\r\nvar _EventDispatcher = __webpack_require__(1);\r\n\r\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nexports.default = _EventDispatcher2.default;\r\nexports.Event = _EventDispatcher.Event;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar hasOwnProp = function hasOwnProp(target, name) {\r\n  return Object.prototype.hasOwnProperty.call(target, name);\r\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\r\n\r\nvar Event = exports.Event = function () {\r\n  function Event(type, data) {\r\n    _classCallCheck(this, Event);\r\n\r\n    this.type = type;\r\n    this.data = data || null;\r\n    this.defaultPrevented = false;\r\n  }\r\n\r\n  _createClass(Event, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return { type: this.type, data: this.data };\r\n    }\r\n  }, {\r\n    key: 'isDefaultPrevented',\r\n    value: function isDefaultPrevented() {\r\n      return this.defaultPrevented;\r\n    }\r\n  }, {\r\n    key: 'preventDefault',\r\n    value: function preventDefault() {\r\n      this.defaultPrevented = true;\r\n    }\r\n  }]);\r\n\r\n  return Event;\r\n}();\r\n\r\nvar ListenersRunner = function () {\r\n  function ListenersRunner(listeners, onStopped, onComplete) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, ListenersRunner);\r\n\r\n    this.index = -1;\r\n    this.immediatelyStopped = false;\r\n\r\n    this.stopImmediatePropagation = function () {\r\n      _this.immediatelyStopped = true;\r\n    };\r\n\r\n    this.listeners = listeners;\r\n    this.onStopped = onStopped;\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  _createClass(ListenersRunner, [{\r\n    key: 'run',\r\n    value: function run(event, target) {\r\n      var listener = void 0;\r\n      var listeners = this.listeners;\r\n\r\n      this.augmentEvent(event);\r\n      // TODO this has to be handled in separate object ListenersRunner that should be\r\n      // created for each call() call and asked for index validation on each listener remove.\r\n      for (this.index = 0; this.index < listeners.length; this.index++) {\r\n        if (this.immediatelyStopped) break;\r\n        listener = listeners[this.index];\r\n        listener.call(target, event);\r\n      }\r\n      this.clearEvent(event);\r\n      this.onComplete(this);\r\n    }\r\n  }, {\r\n    key: 'augmentEvent',\r\n    value: function augmentEvent(eventObject) {\r\n      var event = eventObject;\r\n      event.stopPropagation = this.onStopped;\r\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n    }\r\n\r\n    /* eslint class-methods-use-this: \"off\" */\r\n\r\n  }, {\r\n    key: 'clearEvent',\r\n    value: function clearEvent(eventObject) {\r\n      var event = eventObject;\r\n      delete event.stopPropagation;\r\n      delete event.stopImmediatePropagation;\r\n    }\r\n  }, {\r\n    key: 'listenerRemoved',\r\n    value: function listenerRemoved(listeners, index) {\r\n      if (listeners === this.listeners && index <= this.index) {\r\n        this.index--;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ListenersRunner;\r\n}();\r\n\r\nvar EventListeners = function () {\r\n  function EventListeners() {\r\n    var _this2 = this;\r\n\r\n    _classCallCheck(this, EventListeners);\r\n\r\n    this._listeners = {};\r\n    this._runners = [];\r\n\r\n    this.removeRunner = function (runner) {\r\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n    };\r\n  }\r\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventListeners, [{\r\n    key: 'createList',\r\n    value: function createList(eventType, priorityOpt) {\r\n      var priority = parseInt(priorityOpt, 10);\r\n      var target = this.getPrioritiesByKey(eventType);\r\n      var key = String(priority);\r\n      var value = void 0;\r\n      if (hasOwnProp(target, key)) {\r\n        value = target[key];\r\n      } else {\r\n        value = [];\r\n        target[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'getPrioritiesByKey',\r\n    value: function getPrioritiesByKey(key) {\r\n      var value = void 0;\r\n      if (hasOwnProp(this._listeners, key)) {\r\n        value = this._listeners[key];\r\n      } else {\r\n        value = {};\r\n        this._listeners[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'add',\r\n    value: function add(eventType, handler, priority) {\r\n      var handlers = this.createList(eventType, priority);\r\n      if (handlers.indexOf(handler) < 0) {\r\n        handlers.push(handler);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'has',\r\n    value: function has(eventType) {\r\n      var priority = void 0;\r\n      var result = false;\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        for (priority in priorities) {\r\n          if (hasOwnProp(priorities, priority)) {\r\n            result = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove(eventType, handler) {\r\n      var _this3 = this;\r\n\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        var list = Object.getOwnPropertyNames(priorities);\r\n        var length = list.length;\r\n\r\n        var _loop = function _loop(index) {\r\n          var priority = list[index];\r\n          var handlers = priorities[priority];\r\n          var handlerIndex = handlers.indexOf(handler);\r\n          if (handlerIndex >= 0) {\r\n            handlers.splice(handlerIndex, 1);\r\n            if (!handlers.length) {\r\n              delete priorities[priority];\r\n            }\r\n            _this3._runners.forEach(function (runner) {\r\n              runner.listenerRemoved(handlers, handlerIndex);\r\n            });\r\n          }\r\n        };\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          _loop(index);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'removeAll',\r\n    value: function removeAll(eventType) {\r\n      delete this._listeners[eventType];\r\n    }\r\n  }, {\r\n    key: 'createRunner',\r\n    value: function createRunner(handlers, onStopped) {\r\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n      this._runners.push(runner);\r\n      return runner;\r\n    }\r\n  }, {\r\n    key: 'call',\r\n    value: function call(event, target) {\r\n      var priorities = this.getPrioritiesByKey(event.type);\r\n      var stopped = false;\r\n      var stopPropagation = function stopPropagation() {\r\n        stopped = true;\r\n      };\r\n      if (priorities) {\r\n        // getOwnPropertyNames() or keys()?\r\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n          return a - b;\r\n        });\r\n        var length = list.length;\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          if (stopped) break;\r\n          var _handlers = priorities[list[index]];\r\n          // in case if all handlers of priority were removed while event\r\n          // was dispatched and handlers become undefined.\r\n          if (_handlers) {\r\n            var _runner = this.createRunner(_handlers, stopPropagation);\r\n            _runner.run(event, target);\r\n            if (_runner.immediatelyStopped) break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return EventListeners;\r\n}();\r\n\r\nvar EventDispatcher = function () {\r\n  function EventDispatcher(eventPreprocessor) {\r\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n    _classCallCheck(this, EventDispatcher);\r\n\r\n    if (!noInit) {\r\n      this.initialize(eventPreprocessor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventDispatcher, [{\r\n    key: 'initialize',\r\n    value: function initialize(eventPreprocessor) {\r\n      this._eventPreprocessor = eventPreprocessor;\r\n      this._listeners = new EventListeners();\r\n    }\r\n  }, {\r\n    key: 'addEventListener',\r\n    value: function addEventListener(eventType, listener) {\r\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n      this._listeners.add(eventType, listener, -priority || 0);\r\n    }\r\n  }, {\r\n    key: 'hasEventListener',\r\n    value: function hasEventListener(eventType) {\r\n      return this._listeners.has(eventType);\r\n    }\r\n  }, {\r\n    key: 'removeEventListener',\r\n    value: function removeEventListener(eventType, listener) {\r\n      this._listeners.remove(eventType, listener);\r\n    }\r\n  }, {\r\n    key: 'removeAllEventListeners',\r\n    value: function removeAllEventListeners(eventType) {\r\n      this._listeners.removeAll(eventType);\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(event, data) {\r\n      var eventObject = EventDispatcher.getEvent(event, data);\r\n      if (this._eventPreprocessor) {\r\n        eventObject = this._eventPreprocessor.call(this, eventObject);\r\n      }\r\n      this._listeners.call(eventObject);\r\n    }\r\n  }], [{\r\n    key: 'isObject',\r\n    value: function isObject(value) {\r\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n    }\r\n  }, {\r\n    key: 'getEvent',\r\n    value: function getEvent(eventOrType, optionalData) {\r\n      var event = eventOrType;\r\n      if (!EventDispatcher.isObject(eventOrType)) {\r\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n      }\r\n      return event;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(eventPreprocessor) {\r\n      return new EventDispatcher(eventPreprocessor);\r\n    }\r\n\r\n    /* eslint no-undef: \"off\" */\r\n\r\n  }]);\r\n\r\n  return EventDispatcher;\r\n}();\r\n\r\nEventDispatcher.Event = Event;\r\n\r\nexports.default = EventDispatcher;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/event-dispatcher/dist/event-dispatcher.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js"],"sourceRoot":""}